<!doctype html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Analog Keyboard Overlay</title>
	<link rel="stylesheet" href="browserInputOverlayView/_assets/style.css">
</head>

<body>
	<canvas id="canvas" width="1920" height="1080" oncontextmenu="return false">
		Your browser does not support the HTML5 canvas tag.
	</canvas>

	<div id="propertyEditor" hidden oncontextmenu="return false">
		<p id="propertyEditorTitle">Window title text</p>
		<table id="propertyTable">
			<tr class="property">
				<td>fillStyle: </td>
				<td><input type="text" value="" class="inputBox fillStyle"></td>
			</tr>
		</table>
	</div>

	<!-- Tauri API will be injected here (available in Tauri app only) -->
	<script src="/__tauri__/api.js"></script>

	<!-- Web Locks API keep-alive (prevents background throttling on Tauri/WebKitGTK) -->
	<!-- This holds a shared lock to keep the page "active" even when window loses focus -->
	<script>
		if (navigator?.locks?.request) {
			navigator.locks.request('tauri-keep-alive', { mode: 'shared' }, () => {
				return new Promise(() => {
					// Never resolves - keeps the lock held indefinitely
					console.log('Web Locks keep-alive: preventing background suspension');
				});
			});
		}
	</script>

	<!-- Tauri input adapter (silently bridges rdev to browser input objects) -->
	<script type="module" src="browserInputListeners/_tauriAdapter.js"></script>

	<!-- Load the main overlay application -->
	<script type="module" src="browserInputOverlayView/default.js"></script>
</body>

</html>
