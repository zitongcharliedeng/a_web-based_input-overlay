<!doctype html>
<html>

<head>
	<meta charset="UTF-8">
	<title>analog keyboard overlay</title>
	<script type="module" src="browserInputOverlayView/default.js"></script>
	<link rel="stylesheet" href="browserInputOverlayView/_assets/style.css">
</head>

<body>

	<canvas id="canvas" width="1600" height="600" oncontextmenu="return false">
		Your browser does not support the HTML5 canvas tag.
	</canvas>
	<div id="propertyEditor" hidden oncontextmenu="return false">
		<p id="propertyEditorTitle">Window title text</p>
		<table id="propertyTable">
			<tr class="property">
				<td>fillStyle: </td>
				<td><input type="text" value="" class="inputBox fillStyle"></td>
			</tr>
		</table>
	</div>

	<!-- Test script to verify preload worked -->
	<script>
		// This runs in renderer process after preload
		if (window.electronAPI) {
			console.log('[Renderer] ✓ electronAPI is available!');
			console.log('[Renderer] Has global input:', window.electronAPI.hasGlobalInput());
			console.log('[Renderer] Is readonly:', window.electronAPI.isReadonly());

			// Set up global keyboard listeners to test IPC
			window.electronAPI.onGlobalKeyDown((data) => {
				console.log('[Renderer] Received global keydown:', data.keycode, 'at', data.timestamp);
			});

			window.electronAPI.onGlobalKeyUp((data) => {
				console.log('[Renderer] Received global keyup:', data.keycode, 'at', data.timestamp);
			});

			console.log('[Renderer] Global keyboard listeners attached');
		} else {
			console.log('[Renderer] ✗ electronAPI not found (running as web version)');
		}
	</script>
</body>

</html>
